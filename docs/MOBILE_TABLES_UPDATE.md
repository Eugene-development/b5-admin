# Обновление мобильного вида таблиц в разделе Бизнес-процессы

## Обзор изменений

Все таблицы в разделе "Бизнес-процессы" были обновлены для обеспечения единообразного карточного вида на мобильных устройствах, соответствующего стилю таблиц из раздела "Менеджмент".

## Дата изменений

4 декабря 2025

## Обновленные компоненты

### 1. ContractsTable.svelte
**Путь:** `src/lib/components/business-processes/contracts/ContractsTable.svelte`

**Изменения:**
- Обновлен мобильный вид с использованием `<dl>` списков
- Добавлена сетка с двумя колонками для деталей контракта
- Улучшена структура карточек с четким разделением заголовка, деталей и действий
- Добавлены условные блоки для отображения региона и ИНН
- Увеличены размеры кнопок до min-h-[44px] для лучшей доступности на мобильных устройствах

### 2. ComplaintsTable.svelte
**Путь:** `src/lib/components/business-processes/complaints/ComplaintsTable.svelte`

**Изменения:**
- Добавлен полноценный мобильный карточный вид (ранее отсутствовал)
- Десктопная таблица скрыта на мобильных устройствах с помощью `hidden md:block`
- Реализована структура карточек с:
  - Заголовком с названием и описанием рекламации
  - Сеткой деталей с приоритетом, статусом, контрактом, заказом, ответственным и плановой датой
  - Блоком действий с кнопками просмотра, редактирования и удаления
- Использованы бейджи для отображения приоритета и статуса

### 3. ActionTable.svelte
**Путь:** `src/lib/components/business-processes/actions/ActionTable.svelte`

**Изменения:**
- Обновлена структура `<dl>` списка с добавлением класса `grid grid-cols-1 gap-3`
- Улучшена консистентность с другими таблицами

### 4. OrderTable.svelte
**Путь:** `src/lib/components/business-processes/order/OrderTable.svelte`

**Изменения:**
- Обновлена сетка деталей заказа с `grid-cols-1` на `grid-cols-2`
- Поле "Проект" растянуто на две колонки с помощью `col-span-2`
- Улучшено визуальное представление информации

### 5. TzTable.svelte
**Путь:** `src/lib/components/business-processes/tz/TzTable.svelte`

**Изменения:**
- Обновлена структура `<dl>` списка с добавлением класса `grid grid-cols-1 gap-3`
- Улучшена консистентность отображения деталей техзадания

### 6. ProjectsTable.svelte
**Путь:** `src/lib/components/business-processes/projects/ProjectsTable.svelte`

**Изменения:**
- Обновлена сетка деталей проекта с `grid-cols-1` на `grid-cols-2`
- Добавлено поле "Имя клиента" в карточку
- Поля растянуты на две колонки для лучшего использования пространства

## Единый стиль карточек

Все карточки теперь следуют единой структуре:

```svelte
<div class="rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800">
  <!-- Заголовок -->
  <div class="mb-3 flex items-start justify-between">
    <div class="min-w-0 flex-1">
      <h3 class="text-sm font-medium break-words text-gray-900 dark:text-white">
        {/* Основное название */}
      </h3>
      <p class="text-sm break-words text-gray-500 dark:text-gray-400">
        {/* Дополнительная информация */}
      </p>
    </div>
    <div class="ml-3 flex-shrink-0">
      <span class="inline-flex items-center rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-800 dark:bg-gray-700 dark:text-gray-200">
        № {/* Номер */}
      </span>
    </div>
  </div>

  <!-- Детали в виде списка определений -->
  <dl class="mb-4 grid grid-cols-2 gap-3">
    <div>
      <dt class="text-xs font-medium tracking-wide text-gray-500 uppercase dark:text-gray-400">
        {/* Название поля */}
      </dt>
      <dd class="mt-1 text-sm text-gray-900 dark:text-white">
        {/* Значение */}
      </dd>
    </div>
  </dl>

  <!-- Действия -->
  <div class="flex items-center justify-end space-x-2 border-t border-gray-200 pt-3 dark:border-gray-600">
    {/* Кнопки действий */}
  </div>
</div>
```

## Ключевые особенности

### Адаптивность
- Десктопная таблица: `hidden md:block` или `ring-opacity-5 hidden overflow-hidden shadow ring-1 ring-black md:block md:rounded-lg`
- Мобильный вид: `md:hidden`

### Доступность
- Использование семантических HTML элементов (`<dl>`, `<dt>`, `<dd>`)
- ARIA-атрибуты для списков и элементов
- Минимальная высота кнопок 44px для удобства нажатия на мобильных устройствах

### Консистентность
- Единообразные отступы и размеры
- Одинаковая структура карточек
- Согласованная цветовая схема для светлой и темной темы

### Оптимизация пространства
- Использование сетки с двумя колонками для компактного отображения
- Условное растягивание полей на две колонки (`col-span-2`) для длинных значений
- Перенос текста (`break-words`) для предотвращения переполнения

## Тестирование

Для проверки изменений:

1. Откройте приложение на мобильном устройстве или в режиме адаптивного дизайна браузера
2. Перейдите в раздел "Бизнес-процессы"
3. Проверьте каждую страницу:
   - `/contracts` - Контракты
   - `/complaints` - Рекламации
   - `/actions` - Акции
   - `/order` - Закупки
   - `/projects` - Проекты
   - `/tz` - Техзадания
4. Убедитесь, что:
   - Карточки отображаются корректно
   - Все данные читаемы
   - Кнопки легко нажимаются
   - Темная тема работает правильно

## Совместимость

- Изменения обратно совместимы
- Десктопная версия не затронута
- Все существующие функции сохранены

## Примечания

- Стиль карточек соответствует таблицам из раздела "Менеджмент" (например, `ServiceTable.svelte`)
- Использованы существующие компоненты (`EmptyState`, `StatusBadge`)
- Сохранена поддержка темной темы
