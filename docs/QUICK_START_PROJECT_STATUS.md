# Быстрый старт: Изменение статуса проекта

## Шаг 1: Запуск сидера (если статусы еще не созданы)

```bash
cd b5-db-2
php artisan db:seed --class=ProjectStatusSeeder
```

Это создаст 8 статусов проектов:

- Новый проект (по умолчанию)
- Принят куратором
- ТЗ отправлено
- Договор оформлен
- Договор выполнен
- Бонус начислен
- Бонус погашен
- Клиент отказался

## Шаг 2: Проверка GraphQL API

### Получение списка статусов

```graphql
query {
	projectStatuses {
		id
		value
		slug
		color
		icon
		sort_order
		is_active
	}
}
```

### Обновление статуса проекта

```graphql
mutation {
	updateProject(input: { id: "01JBEXAMPLE123456789", status_id: "01JBEXAMPLE987654321" }) {
		id
		value
		status {
			id
			value
			slug
		}
	}
}
```

## Шаг 3: Тестирование в UI

1. Запустите b5-admin:

   ```bash
   cd b5-admin
   npm run dev
   ```

2. Откройте страницу "Проекты"

3. Нажмите кнопку "Редактировать" на любом проекте

4. В модальном окне найдите новое поле "Статус проекта"

5. Выберите статус из выпадающего списка

6. Нажмите "Сохранить изменения"

7. Проверьте, что статус обновился в таблице проектов

## Возможные проблемы

### Статусы не загружаются

- Проверьте, что сидер был запущен
- Проверьте консоль браузера на наличие ошибок
- Проверьте, что GraphQL API доступен

### Ошибка при сохранении

- Проверьте, что выбран валидный статус
- Проверьте консоль браузера на наличие ошибок
- Проверьте логи b5-api-2

### Статус не отображается после сохранения

- Обновите страницу
- Проверьте, что мутация updateProject возвращает обновленные данные
- Проверьте, что в запросе projects включено поле status

## Дополнительная информация

Подробная документация доступна в файле `CHANGELOG_PROJECT_STATUS.md`
